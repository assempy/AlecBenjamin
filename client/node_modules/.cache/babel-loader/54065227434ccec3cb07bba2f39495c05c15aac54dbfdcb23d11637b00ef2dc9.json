{"ast":null,"code":"import'./style.css';import image from'./image.png';import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Header(){const navigate=useNavigate();const[searchQuery,setSearchQuery]=useState(\"\");// Для хранения поискового запроса\nconst[error,setError]=useState(\"\");// Для ошибок, если что-то пойдет не так\nconst handleSearch=async query=>{if(query.trim()){try{// Отправляем запрос на сервер для поиска по названию песни или альбому\nconst response=await fetch(\"http://localhost:5000/songs?search=\".concat(query));if(!response.ok){throw new Error(\"Ошибка поиска песни\");}// Обрабатываем ответ\nconst data=await response.json();if(data.songs.length>0){const song=data.songs[0];// Берём первую песню из результатов\nnavigate(\"/song/\".concat(song.id));// Перенаправляем пользователя на страницу с ID песни\n}else{setError(\"Песня не найдена\");}}catch(error){setError(error.message);// Устанавливаем ошибку\n}}};const handleInputChange=e=>{const query=e.target.value;setSearchQuery(query);// Обновляем поисковый запрос\nhandleSearch(query);// Выполняем поиск\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"Header\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(\"img\",{src:image,style:{height:\"37px\",marginTop:\"15px\"},alt:\"Logo\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"white\",fontSize:\"20px\",marginLeft:\"10px\"},children:\"Promote your music\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(-1)// Возврат на предыдущую страницу\n,style:{marginTop:\"20px\",marginRight:\"10px\",height:\"30px\",width:\"80px\",borderRadius:\"20px\",cursor:\"pointer\",backgroundColor:\"white\",color:\"black\",border:\"none\"},children:\"Go back\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search for a song\",value:searchQuery,onChange:handleInputChange// Обновляем состояние и выполняем поиск\n,style:{width:\"243px\",height:\"33px\",marginTop:\"15px\",marginRight:\"20px\"}})]}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red'},children:error})]});}export default Header;","map":{"version":3,"names":["image","React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Header","navigate","searchQuery","setSearchQuery","error","setError","handleSearch","query","trim","response","fetch","concat","ok","Error","data","json","songs","length","song","id","message","handleInputChange","e","target","value","className","children","style","display","src","height","marginTop","alt","color","fontSize","marginLeft","onClick","marginRight","width","borderRadius","cursor","backgroundColor","border","type","placeholder","onChange"],"sources":["C:/Users/user/Desktop/web_react/client/src/header.jsx"],"sourcesContent":["import './style.css';\r\nimport image from './image.png';\r\nimport React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Header() {\r\n    const navigate = useNavigate();\r\n    const [searchQuery, setSearchQuery] = useState(\"\"); // Для хранения поискового запроса\r\n    const [error, setError] = useState(\"\"); // Для ошибок, если что-то пойдет не так\r\n\r\n    const handleSearch = async (query) => {\r\n        if (query.trim()) {\r\n            try {\r\n                // Отправляем запрос на сервер для поиска по названию песни или альбому\r\n                const response = await fetch(`http://localhost:5000/songs?search=${query}`);\r\n                if (!response.ok) {\r\n                    throw new Error(\"Ошибка поиска песни\");\r\n                }\r\n\r\n                // Обрабатываем ответ\r\n                const data = await response.json();\r\n                if (data.songs.length > 0) {\r\n                    const song = data.songs[0]; // Берём первую песню из результатов\r\n                    navigate(`/song/${song.id}`); // Перенаправляем пользователя на страницу с ID песни\r\n                } else {\r\n                    setError(\"Песня не найдена\");\r\n                }\r\n            } catch (error) {\r\n                setError(error.message); // Устанавливаем ошибку\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleInputChange = (e) => {\r\n        const query = e.target.value;\r\n        setSearchQuery(query); // Обновляем поисковый запрос\r\n        handleSearch(query); // Выполняем поиск\r\n    };\r\n\r\n    return (\r\n        <div className=\"Header\">\r\n            <div style={{ display: \"flex\" }}>\r\n                <img src={image} style={{ height: \"37px\", marginTop: \"15px\" }} alt=\"Logo\" />\r\n                <p style={{ color: \"white\", fontSize: \"20px\", marginLeft: \"10px\" }}>Promote your music</p>\r\n            </div>\r\n            <div style={{ display: \"flex\" }}>\r\n                <button\r\n                    onClick={() => navigate(-1)} // Возврат на предыдущую страницу\r\n                    style={{\r\n                        marginTop: \"20px\",\r\n                        marginRight: \"10px\",\r\n                        height: \"30px\",\r\n                        width: \"80px\",\r\n                        borderRadius: \"20px\",\r\n                        cursor: \"pointer\",\r\n                        backgroundColor: \"white\",\r\n                        color: \"black\",\r\n                        border: \"none\"\r\n                    }}\r\n                >\r\n                    Go back\r\n                </button>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search for a song\"\r\n                    value={searchQuery}\r\n                    onChange={handleInputChange} // Обновляем состояние и выполняем поиск\r\n                    style={{\r\n                        width: \"243px\",\r\n                        height: \"33px\",\r\n                        marginTop: \"15px\",\r\n                        marginRight: \"20px\"\r\n                    }}\r\n                />\r\n            </div>\r\n\r\n            {/* Выводим ошибки, если они есть */}\r\n            {error && <div style={{ color: 'red' }}>{error}</div>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}